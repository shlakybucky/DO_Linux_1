## Part 1. Установка ОС  

Установи Ubuntu 20.04 Server LTS без графического интерфейса.  

Узнай версию Ubuntu, выполнив команду `cat /etc/issue`  

![linux](Screenshots/s1.png)  

## Part 2. Создание пользователя  

Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу adm.  

![linux](Screenshots/s2.png)  
![linux](Screenshots/s2_2.png)  

## Part 3. Настройка сети ОС  

Задаю название машины вида user-1 с помощью команды:
`sudo hostnamectl set-hostname user-1`

![linux](Screenshots/s3.png)  
![linux](Screenshots/s3_2.png)   

Устанавливаю временную зону, соответствующую моему текущему местоположению с помощью команды: 
`sudo timedatectl set-timezone Europe/Moscow`.  

![linux](Screenshots/s3-3.png)  
![linux](Screenshots/s3_4.png) 

Вывожу названия сетевых интерфейсов с помощью консольной команды   
![linux](Screenshots/s3_5.png) 

Интерфейс lo (loopback device) — это виртуальный сетевой интерфейс, который используется для внутренней коммуникации внутри одного и того же устройства. Он позволяет программам и процессам на одном компьютере обмениваться данными друг с другом, не используя физическую сеть. Обычно имеет IP-адрес 127.0.0.1, этот адрес также известен как localhost.

Используя консольную команду, получаю ip адрес устройства, на котором работаю, от DHCP сервера с помощью команды `ip route show`

![linux](Screenshots/s3_6.png)

DHCP (Dynamic Host Configuration Protocol) — это протокол, который автоматически назначает IP-адреса и другие сетевые параметры устройствам в сети. Он назначает уникальные IP-адреса клиентам, что предотвращает конфликты IP-адресов, предоставляет маску подсети, которая определяет диапазон IP-адресов в сети, предоставляет IP-адрес шлюза по умолчанию, который используется для маршрутизации трафика вне локальной сети, IP-адреса DNS-серверов, которые используются для разрешения доменных имен, может предоставлять дополнительные параметры, такие как время жизни аренды IP-адреса, серверы времени и другие.

Определяю и вывожу на экран внешний ip-адрес шлюза (ip)с помощью команды:  
`wget -O - -q icanhazip.com`  

![linux](Screenshots/s3_7.png)  

и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw):  

![linux](Screenshots/s3_8.png)   


Задаю статичные настройки ip, gw, dns, используя публичные DNS серверы, захожу в nano, чтобы увидеть содержимое YAML:  

![linux](Screenshots/s3_9.png)     

Изменила:  
![linux](Screenshots/s3_10.png)   

Перезагрузила виртуальную машину, всё соответствует.

![linux](Screenshots/s3_11.png)   

Успешно пропинговала удаленные хосты 1.1.1.1 и ya.ru. В выводе - «0% packet loss».

![linux](Screenshots/s3_12.png) 

## Part 4. Обновление ОС  
Обновляю систему с помощью `sudo apt update` и `sudo apt upgrade`

![linux](Screenshots/s4_1.png)   

![linux](Screenshots/s4_2.png)    
Повторяю команду и получаю вывод, что новых пакетов и обновлений не обнаружено:  
![linux](Screenshots/s4_3.png)   

## Part 5. Использование команды **sudo**  

Даю пользователю права администратора с помощью команды `sudo usermod -aG sudo username`   

![linux](Screenshots/s4_4.png)     

sudo — это команда в Linux, которая позволяет обычным пользователям выполнять команды с правами суперпользователя/администратора (root). Суперпользователь имеет полный доступ к системе и может делать все, что угодно, включая изменение важных настроек и установку программ.

Меняю hostname от имени пользователя user1 с помощью команды sudo -u <old_name> hastnamectl set-hostname <new_name>  

![linux](Screenshots/s4_5.png)  

## Part 6. Установка и настройка службы времени    

Вывожу время часового пояса, в выводе содержится `NTPSynchronized=yes`: \
`timedatectl show`    

![linux](Screenshots/s6_1.png)     


## Part 7. Установка и использование текстовых редакторов   

Используемые редакторы: **VIM**, **NANO**, **JOE**    

Создаю и открываю test_vim.txt, в vim пишу свой никнейм и выхожу, сохраняя изменения с помощью esc :wq enter    

![linux](Screenshots/s7_1.png)   

Создаю и открываю test_nano.txt, в nano пишу свой никнейм и выхожу, сохраняя изменения с помощью  Control + x y (yes) 

![linux](Screenshots/s7_2.png)   

Cкачиваю редактор joe с помощью команды sudo apt install joe. Создаю и открываю test_joe.txt, в joe пишу свой никнейм и выхожу, сохраняя изменения с помощью  Control + k, Control + x  

![linux](Screenshots/s7_3.png)   

vim  
Для выхода без изменений esc + : + q!  

![linux](Screenshots/s7_4.png)   

nano
Для выхода без изменений Control + x n (no)   

![linux](Screenshots/s7_5.png)   

joe    
Для выхода без изменений Control + K + X  

![linux](Screenshots/s7_6.png) 

Используя каждый из трех выбранных редакторов, редактирую файл ещё раз (по аналогии с предыдущим пунктом), а затем использую функции поиска по содержимому файла (слово) и замены слова на любое другое.

vim    
Для поиска и/или замены вводим команду `:s/word_to_find/word_to_replace`  

![linux](Screenshots/s7_7.png)  

nano   
Поиск слова control + w   

![linux](Screenshots/s7_8.png)   

Замена слова  control + \

![linux](Screenshots/s7_9.png)

joe    

Поиск слова control + k, control + f  

![linux](Screenshots/s7_10.png)    


Замена слова control + k, control + r, y (yes)  

![linux](Screenshots/s7_11.png)  
![linux](Screenshots/s7_12.png)   

## Part 8. Установка и базовая настройка сервиса **SSHD**    

Устанавливаем SSH c помощью команды `sudo apt-get install ssh`    

![linux](Screenshots/s8_1.png)     

Устанавливаем OpenSSH `sudo apt install openssh-server`

![linux](Screenshots/s8_2.png)   

Проверка изменений с помощью команды `sudo systemctl status sshd`  

![linux](Screenshots/s8_3.png)   

Добавляю автостарт службы при загрузке системы `sudo systemctl enable ssh`    

![linux](Screenshots/s8_4.png)   

Перенастраиваю службу SSHd на порт 2022  

![linux](Screenshots/s8_5.png)    
![linux](Screenshots/s8_6.png)   

Использую команду ps, показываю наличие процесса sshd. Для этого к команде подюираю ключи  

![linux](Screenshots/s8_7.png)   

ps aux - команда ps aux показывает список всех процессов, запущенных в системе, включая информацию о пользователе, времени запуска и других параметрах.  

a — показывает процессы всех пользователей.    

u — показывает подробную информацию о процессах, включая пользователя, который запустил процесс, и время запуска.    

x — показывает процессы, которые не связаны с терминалом.    

| (pipe) - это символ, который используется для передачи вывода одной команды в качестве ввода другой команды.  

grep — это команда, которая ищет строки, содержащие определенный текст.  

sshd — это текст, который мы ищем. В данном случае, это имя процесса SSH.   

Перезагружаю систему `sudo reboot`  

![linux](Screenshots/s8_8.png)  

Устанавливаем netstat `sudo apt install net-tools`    

![linux](Screenshots/s8_9.png)    

Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  

![linux](Screenshots/s8_10.png)   

Команда netstat -tan используется для отображения информации о сетевых соединениях и портах в системе Linux, она показывает все активные и ожидающие TCP-соединения в системе, используя числовые IP-адреса и номера портов.    
netstat - это утилита командной строки, которая предоставляет информацию о сетевых соединениях, маршрутизации, интерфейсах и статистике сети.    
-t этот флаг означает, что команда должна показывать только TCP-соединения.  
-a этот флаг означает, что команда должна показывать все соединения и ожидающие порты (listening ports).  
-n этот флаг означает, что команда должна показывать числовые IP-адреса и номера портов вместо имен хостов и сервисов.      

0.0.0.0 в foreign address - означает что никто не подключен.  
0.0.0.0 в local address - означает listening on all interfaces.  
Если в качестве адреса отображается 0.0.0.0 , то это означает в соединении могут использоваться все IP-адреса существующие на данном компьютере.  
Recv-Q - количество байт, не прочитанных приложением.  
Send-Q -количество байт, не отправленных сетью.   
State - состояние соединения (например, LISTEN, ESTABLISHED).    

## Part 9. Установка и использование утилит **top**, **htop**  

Устанавливаю и запускаю утилит **htop** с помощью `sudo apt install htop`, пакет  **top** заранее предусмотрен  

![linux](Screenshots/s9_1.png)  

Вывод команды top  

![linux](Screenshots/s9_2.png)   

 - uptime   
    16 min  
  - количество авторизованных пользователей   
    1 user  
  - общую загрузку системы  
    0.01    
  - общее количество процессов  
    122  
  - загрузку cpu  
    0  
  - загрузку памяти  
    1970.9 total, 1429.0 free, 162.6 used  
  - pid процесса занимающего больше всего памяти  
    1 root
  - pid процесса, занимающего больше всего процессорного времени  
    1487 root, 1488 bottleal
- В отчёт вставь скрин с выводом команды htop:  

  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME  

PID  
![linux](Screenshots/s9_4.png)  

PERCENT_CPU  
![linux](Screenshots/s9_3.png)     

PERCENT_MEM  
![linux](Screenshots/s9_5.png)   

TIME  
![linux](Screenshots/s9_6.png)   

  - отфильтрованному для процесса sshd (f4 sshd)  

![linux](Screenshots/s9_7.png)  

  - с процессом syslog, найденным, используя поиск   

![linux](Screenshots/s9_8.png)   

  - с добавленным выводом hostname, clock и uptime  

![linux](Screenshots/s9_9.png)   

## Part 10. Использование утилиты **fdisk**  

Запускаю команду fdisk -l  

![linux](Screenshots/s9_10.png)  

название жесткого диска - /dev/sda  

его размер - 25 GiB  

количество секторов - 52428800  

для того,чтобы узнать размер swap отдельно используем команду `swapon`  

![linux](Screenshots/s9_11.png)   
размер swap - 2G  

## Part 11. Использование утилиты **df**   
Запусти команду df  
![linux](Screenshots/s9_12.png)   

В отчёте напиши для корневого раздела (/):
размер раздела - 11758760 блоков по 1 килобайту
размер занятого пространства - 4843628
размер свободного пространства - 6296024
процент использования - 44%
Определили единицу измерения в выводе - килобайт   

Запусти команду df -Th  
![linux](Screenshots/s9_13.png) 

размер раздела - 12G
размер занятого пространства - 4,7G
размер свободного пространства - 6,1G
процент использования - 44%
тип файловой системы для раздела - ext4  

## Part 12. Использование утилиты **du**  
запустили команду du  
![linux](Screenshots/s11_1.png)  

Выведи размер папок /home, /var, /var/log в байтах, в человекочитаемом виде  

![linux](Screenshots/s11_2.png)   

Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)  

![linux](Screenshots/s11_3.png)  

## Part 13. Установка и использование утилиты **ncdu**  
Установи утилиту ncdu  
![linux](Screenshots/s13_1.png)   
Выведи размер папок /home, /var, /var/log  

/home    
![linux](Screenshots/s13_2.png)   

/var  
![linux](Screenshots/s13_3.png)   

/var/log   
![linux](Screenshots/s13_4.png)  

## Part 14. Работа с системными журналами  

 Открой для просмотра:  
 1. /var/log/dmesg  
![linux](Screenshots/s14_1.png) 

 2. /var/log/syslog  
![linux](Screenshots/s14_2.png) 

 3. /var/log/auth.log   
![linux](Screenshots/s14_3.png) 


- Напиши в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему  
![linux](Screenshots/s14_4.png) 
Время последней авторизации - 09/05/2024 20:04:45  

Имя пользоватля - bottleal  

Метод входа в систему - tty1  

- Перезапусти службу SSHd;  
![linux](Screenshots/s14_5.png)  

- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).  

![linux](Screenshots/s14_6.png)   

## Part 15. Использование планировщика заданий **CRON**  

Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.    
зашла через команду crontab -e   
![linux](Screenshots/s15_1.png)   

- - Нашли в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении (командой journalctl | grep "CRON")    
![linux](Screenshots/s15_3.png) 

- Вывела на экран список текущих заданий для CRON  командой crontab -l

![linux](Screenshots/s15_4.png)   

Удали все задания из планировщика заданий.
- В отчёт вставь скрин со списком текущих заданий для CRON.  

![linux](Screenshots/s16.png)    